<!doctype html>
<html lang="zh-Hans" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">72 篇博文 含有标签「面试题」 | 7Wate</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://qq1120637483.github.io//blog/tags/面试题/page/6"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="keywords" content="7wate, wiki, blog, c, c++, java, python, linux"><meta data-rh="true" property="og:title" content="72 篇博文 含有标签「面试题」 | 7Wate"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://qq1120637483.github.io//blog/tags/面试题/page/6"><link data-rh="true" rel="alternate" href="https://qq1120637483.github.io//blog/tags/面试题/page/6" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://qq1120637483.github.io//blog/tags/面试题/page/6" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="7Wate`s Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="7Wate`s Blog Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="7Wate`s Blog JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-MHMEL0F832","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MHMEL0F832"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-MHMEL0F832",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.a2a76c0f.css">
<link rel="preload" href="/assets/js/runtime~main.690cd862.js" as="script">
<link rel="preload" href="/assets/js/main.e471a9b1.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a href="#" class="skipToContent_fXgn">跳到主要内容</a></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">🐋 Faith&amp;Passion&#x27;s Wiki</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">🍁 博客</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">🦖 Wiki</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/structures-algorithms">数据结构与算法</a></li><li><a class="dropdown__link" href="/computer-network">计算机网络</a></li><li><a class="dropdown__link" href="/operating-system">操作系统</a></li><li><a class="dropdown__link" href="/database-system">数据库</a></li><li><a class="dropdown__link" href="/computer-security">网络安全</a></li><li><a class="dropdown__link" href="/software-engineering">软件工程</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">🪟 面经</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/roadmap">前端面经</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">⏰ LeetCode</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/org">开源社区</a></li></ul></div><a class="navbar__item navbar__link" href="/life">🏄‍♂️ 生活</a><a class="navbar__item navbar__link" href="/journal">📜 随笔日记</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_pO2u margin-bottom--md">近期文章</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/查找字符串中最长的单词">查找字符串中最长的单词</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/JS模块化演变及其区别">JS模块化演变及其区别</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/你知道原型链？那你能实现一个new吗？">你知道原型链？那你能实现一个new吗？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/Koa的洋葱模型到底是什么？">Koa的洋葱模型到底是什么？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/OSI七层网络模型，你了解多少？">OSI七层网络模型，你了解多少？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/Promise的异常捕获问题">Promise的异常捕获问题</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/Vue中的v-if和v-for为什么不能一起用？">Vue中的v-if和v-for为什么不能一起用？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/for...in和for....of的区别是什么？">for...in和for....of的区别是什么？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/这一次，彻底搞懂Vue中的keep-alive">这一次，彻底搞懂Vue中的keep-alive</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/LeetCode——简化路径（辅助栈）">LeetCode——简化路径（辅助栈）</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>72 篇博文 含有标签「面试题」</h1><a href="/blog/tags">查看所有标签</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/面试官让你使用CSS画一个圆，你会吗？">面试官让你使用CSS画一个圆，你会吗？</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-10-07T00:00:00.000Z" itemprop="datePublished">2021年10月7日</time> · <!-- -->阅读需 1 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Justin</span></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><blockquote><p>最近看到一道比较基础的前端面试题，和大家分享下。面试官问：请使用CSS绘制一个圆。</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="方法使用border-radius">方法：使用border-radius<a class="hash-link" href="#方法使用border-radius" title="标题的直接链接">​</a></h2><blockquote><p>我们只需要将border-radius设置为50%即可。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="html部分">HTML部分<a class="hash-link" href="#html部分" title="标题的直接链接">​</a></h3><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">circle</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="css部分">CSS部分<a class="hash-link" href="#css部分" title="标题的直接链接">​</a></h3><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token selector class" style="color:#00009f">.circle</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">width</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">height</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">background-color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token color">pink</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">margin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token unit">px</span><span class="token plain"> auto</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">border-radius</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token unit">%</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="实现效果">实现效果<a class="hash-link" href="#实现效果" title="标题的直接链接">​</a></h3><p><img loading="lazy" src="https://img-blog.csdnimg.cn/img_convert/c67be70c08308c258dce8a347b2ab46e.png" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/面试题">面试题</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/一篇文章，彻底搞懂浏览器的缓存机制">一篇文章，彻底搞懂浏览器的缓存机制</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-10-06T00:00:00.000Z" itemprop="datePublished">2021年10月6日</time> · <!-- -->阅读需 24 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Justin</span></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><blockquote><p>无论在工作中还是平时的学习面试过程中，HTTP缓存几乎都是我们绕不开的话题，面对这些常见的知识点，我们不应该选择逃避，而是勇于面对，去搞懂它们。</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="为什么需要缓存">为什么需要缓存？<a class="hash-link" href="#为什么需要缓存" title="标题的直接链接">​</a></h2><blockquote><p>在任何一个前端项目中，访问服务器获取数据都是很常见的事情，如果相同的数据被重复请求了不止一次，那么多余的请求必然会浪费网络带宽，以及延迟浏览器渲染所要处理的内容，从而影响用户的使用体验。如果用户使用的是按量计费的方式访问网络，多余的请求还会隐形的增加用户的网络流量资费。因此考虑使用缓存技术对已经获取的资源进行重用，是一种提升网站性能与用户体验的有效策略。</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="缓存的原理">缓存的原理<a class="hash-link" href="#缓存的原理" title="标题的直接链接">​</a></h2><blockquote><p>缓存的原理是在首次请求后保存一份请求资源的响应副本，当用户再次发起相同请求后，如果判断缓存命中则拦截请求，将之前存储的响应副本返回给用户，从而避免了重新向服务器发起资源请求。</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="http缓存">HTTP缓存<a class="hash-link" href="#http缓存" title="标题的直接链接">​</a></h2><blockquote><p>HTTP缓存应该算是前端开发中最常接触的缓存之一，它又可以细分为强制缓存和协商缓存，二者最大的区别在于判断缓存命中时，浏览器是否需要向服务器端进行询问以协商缓存的相关信息，进而判断是否需要就响应内容进行重新请求，下面让我们来看看HTTP缓存的具体机制及缓存的决策策略。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="强制缓存">强制缓存<a class="hash-link" href="#强制缓存" title="标题的直接链接">​</a></h3><blockquote><p>对于强制缓存而言，如果浏览器判断所请求的目标资源有效命中，则直接从强制缓存中返回请求响应，无须与服务器进行任何通信。</p></blockquote><blockquote><p>其中与强制缓存相关的两个字段是expires和cache-control，expires是在HTTP1.0协议中声明的用来控制缓存失效日期时间戳的字段，它由服务器端指定后通过响应头告知浏览器，浏览器在接收到带有该字段的响应体后进行缓存。</p></blockquote><blockquote><p>若之后浏览器再次发起相同的资源请求，便会对比expires与本地当前的时间戳，如果当前请求的本地时间戳小于expires的值，则说明浏览器缓存的响应还未过期，可以直接使用而无须向服务器端再次发起请求。只有当本地时间戳大于expires值，发生缓存过期时，才允许重新向服务器发起请求。</p></blockquote><blockquote><p>从上述强制缓存的是否过期的判断机制中不难看出，这个方式存在一个很大的漏洞，即对本地时间戳过分依赖，如果客户端本地的时间与服务器端的时间不同步，或者对客户端的时间进行主动修改，那么对于缓存过期的判断可能就无法和预期相符。</p></blockquote><blockquote><p>为了解决expires判断的局限性，从HTTP1.1协议开始新增了cache-control字段来对expires的功能进行拓展和完善。从上述代码中可见cache-control设置了maxage=31536000的属性值来控制响应资源的有效期，它是一个以秒为单位的时间长度，表示该资源在被请求到后的31536000秒内有效，如此便可避免服务器端和客户端时间戳不同步而造成的问题。</p></blockquote><blockquote><p>注意：如果Cache-Control的max-age和expires同时存在，则以max-age为准。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cache-control的其他参数">Cache-Control的其他参数<a class="hash-link" href="#cache-control的其他参数" title="标题的直接链接">​</a></h3><ul><li>no-cache</li></ul><blockquote><p>设置no-cache并非不适用缓存，而是表示强制进行协商缓存，即对于每次发起的请求都不会再去判断强制缓存是否过期，而是直接与服务器写撒谎给你来验证缓存的有效性，若缓存未过期，则会使用本地缓存。</p></blockquote><ul><li>no-store</li></ul><blockquote><p>设置no-store则表示禁止使用任何缓存，客户端的每次请求都需要服务器端给予全新的响应。no-cache与no-store是两个互斥的属性值，不能同时设置。</p></blockquote><ul><li>public</li></ul><blockquote><p>若资源响应头中的cache-control字段设置了public属性值，则表示响应资源既可以被浏览器缓存，又可以被代理服务器缓存。</p></blockquote><ul><li>private </li></ul><blockquote><p>private则限制了响应资源只能被浏览器缓存，如果没有显示指定则默认值是private。</p></blockquote><ul><li>max-age</li></ul><blockquote><p>表示服务器端告知客户端浏览器响应资源的过期时长。</p></blockquote><ul><li>s-maxage</li></ul><blockquote><p>对于大型架构的项目通常会涉及使用各种代理服务器的情况，这就需要考虑缓存在代理服务器上的有效性问题，这边是s-maxage存在的意义，它表示缓存在代理服务器中的过期时长，且仅当设置了public属性值时才是有效的。</p></blockquote><blockquote><p>由此可见，cache-control能够作为expires的完全替代方案，并且拥有其所不具备的一些缓存控制特性，在项目实践中使用它就足够了，目前expires还存在的唯一理由就是向下兼容。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="协商缓存">协商缓存<a class="hash-link" href="#协商缓存" title="标题的直接链接">​</a></h3><blockquote><p>顾名思义，协商缓存就是在使用本地缓存之前，需要向服务器发起一次GET请求，与之协商当前浏览器保存的本地缓存是否已经过期。通常是采用所请求资源的最近一次的修改时间戳来判断的。</p></blockquote><ul><li>实例</li></ul><blockquote><p>假设客户端需要向服务器请求一个manifest.js的JS文件，为了让该资源被再次请求时能够通过协商缓存的机制使用本地缓存，那么首次返回该图片资源的响应头中应包含一个名为last-modified的字段，该字段的属性值为该JS文件最近一次修改的时间戳。</p></blockquote><blockquote><p>当我们刷新网页时，由于该JS文件使用的是协商缓存，客户端浏览器无法确定本地缓存是否过期，所以需要向服务器发送一次GET请求，进行缓存有效性的协商，此次GET请求的请求头中需要包含一个ifmodified-since字段，其值正是上次响应头中last-modified的字段值。</p></blockquote><blockquote><p>当服务器收到该请求后便会对比请求资源当前的修改时间戳与if-modified-since字段的值，如果二者相同则说明缓存未过期，可继续使用本地缓存，否则服务器重新返回全新的文件资源。</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="基于last-modified的协商缓存服务器端代码">基于Last-Modified的协商缓存（服务器端代码）<a class="hash-link" href="#基于last-modified的协商缓存服务器端代码" title="标题的直接链接">​</a></h4><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> fs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">readFileSync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;./imgs/CSS.png&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> mtime </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> fs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">statSync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;./imgs/CSS.png&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> ifModifiedSince </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> req</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">headers</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;if-modified-since&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ifModifiedSince </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> mtime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toUTCString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">statusCode</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">304</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">end</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setHeader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;last-modified&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">mtime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toUTCString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setHeader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Cache-Control&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;no-cache&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">end</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="last-modified协商缓存流程">Last-Modified协商缓存流程<a class="hash-link" href="#last-modified协商缓存流程" title="标题的直接链接">​</a></h4><blockquote><p>客户端第一次请求目标资源的时，服务器返回的响应标头包含last-modified和该资源的最后一次修改的时间戳，以及cache-control：no-cache，当客户端再次请求该资源的时候，会携带一个ifmodifiedsince字段，如果这个字段对应的时间与目标资源的时间戳进行对比，如果没有变化则返回一个304状态码。</p></blockquote><blockquote><p>需要注意的是：协商缓存判断缓存有效的响应状态码是304，但是如果是强制缓存判断有效的话，响应状态码是200。</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="last-modified的不足">last-modified的不足<a class="hash-link" href="#last-modified的不足" title="标题的直接链接">​</a></h4><ol><li>last-modified是根据请求资源的最后修改时间戳进行判断的，虽然请求的文件资源进行了编辑，但是内容并没有发生任何变化，时间戳也会更新，从而导致协商缓存时关于有效性的判断验证为失效，需要重新进行完整的资源请求。这无疑会造成网络带宽资源的浪费，以及延长用户获取到目标资源的时间。</li><li>标识文件资源修改的时间戳单位是秒，如果文件修改的速度非常快，假设在几百毫秒内完成，那么通过时间戳的方式来验证缓存的有效性，是无法识别出该次文件资源的更新的。</li></ol><blockquote><p>其实造成上述两种缺陷的原因相同，就是服务器无法根据资源修改的时间戳识别出真正的更新，进而导致重新发起了请求，该重新请求却使用了缓存的Bug场景。</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="基于etag的协商缓存服务端代码">基于Etag的协商缓存（服务端代码）<a class="hash-link" href="#基于etag的协商缓存服务端代码" title="标题的直接链接">​</a></h4><p><img loading="lazy" src="https://img-blog.csdnimg.cn/img_convert/03ccddbca7c68a55afdae8519ddd665d.png" class="img_ev3q"></p><blockquote><p>为了弥补通过时间戳判断的不足，从HTTP1.1规范开始新增了一个Etag的头信息，即实体标签。
其内容主要是服务器为不同的资源进行哈希计算所生成的一个字符串，该字符串类似于文件指纹，只要文件内容编码存在差异，对应的Etag对文件资源进行更精准的变化感知。</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="etag协商缓存的流程">Etag协商缓存的流程<a class="hash-link" href="#etag协商缓存的流程" title="标题的直接链接">​</a></h4><ol><li>首先，服务端将要返回给客户端的数据通过etag模块进行哈希计算生成一个字符串，这个字符串类似于文件指纹。</li><li>检测客户端的请求标头中的ifNoneMatch字段的值和第一步计算的值是否一致，一致则返回304。</li><li>如果不一致则返回etag标头和Cache-Control：no-cache。</li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="etag的不足">Etag的不足<a class="hash-link" href="#etag的不足" title="标题的直接链接">​</a></h4><blockquote><p>不像强制缓存中cache-control可以完全替代expires的功能，在协商缓存中，Etag并非last-modified的替代方案而是一种补充方案，因为依旧存在一些弊端。</p></blockquote><ol><li>服务器对于生成文件资源的Etag需要付出额外的计算开销，如果资源的尺寸比较大，数量较多且修改频繁，那么生成的Etag的过程就会影响服务器的性能。</li><li>Etag字段值的生成分为强验证和弱验证，强验证根据资源内容进行生成，能够保证每个字节都相同，弱验证则根据资源的部分属性来生成，生成速度快但无法确保每个字节都相同，并且在服务器集群场景下，也会因为准确不够而降低协商缓存有效性的成功率，所以恰当的方式是根据具体的资源使用场景选择恰当的缓存校验方式。</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="缓存决策及其注意事项">缓存决策及其注意事项<a class="hash-link" href="#缓存决策及其注意事项" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="缓存决策">缓存决策<a class="hash-link" href="#缓存决策" title="标题的直接链接">​</a></h3><blockquote><p>假设在不考虑客户端缓存容量与服务器算力的理想情况下，我们当然希望客户端浏览器上的缓存触发率尽可能高，留存时间尽可能长，同时还要Etag实现当资源更新时进行高效的重新验证。但实际情况往往是容量与算力都有限，因此就需要制定合适的缓存策略，来利用有限的资源达到最优的性能效果，明确能力的边界，力求在边界内做到最好。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="缓存决策树">缓存决策树<a class="hash-link" href="#缓存决策树" title="标题的直接链接">​</a></h3><blockquote><p>在面对一个具体的缓存需求时，我们可以参照如下的缓存决策树来逐步确定对一个资源具体的缓存策略。</p></blockquote><ul><li>是否使用缓存<ul><li>否：no-store</li><li>是：<ul><li>是否进行协商缓存<ul><li>是：no-cache</li><li>否<ul><li>是否会被代理服务器缓存<ul><li>是：public</li><li>否：private<ul><li>配置强制缓存过期时间<ul><li>配置协商缓存的Etag或last-modified。</li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cdn缓存">CDN缓存<a class="hash-link" href="#cdn缓存" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="什么是cdn">什么是CDN？<a class="hash-link" href="#什么是cdn" title="标题的直接链接">​</a></h3><blockquote><p>CDN全称是内容分发网络，它是构建在现有网络基础上的虚拟智能网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、调度及内容分发等功能模块，使用户在请求所需访问的内容时能够就近获取，以此来降低网络拥塞，提高资源对用户的响应速度。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="不使用cdn的通信流程">不使用CDN的通信流程<a class="hash-link" href="#不使用cdn的通信流程" title="标题的直接链接">​</a></h3><ol><li>向传统的DNS服务器请求域名解析。</li><li>DNS服务器返回域名对应的服务器IP。</li><li>根据服务器IP请求服务器内容。</li><li>服务器返回响应资源。</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="使用cdn的通信流程">使用CDN的通信流程<a class="hash-link" href="#使用cdn的通信流程" title="标题的直接链接">​</a></h3><ol><li>客户端向传统的DNS服务器请求域名解析。</li><li>传统的DNS服务器将域名解析权交给了CNAME指向的专用DNS服务器，所以对用户输入域名的解析最终是在CDN专用的DNS服务器上完成的。</li><li>CDN专用的DNS服务器将CDN负载均衡器的IP发给客户端。</li><li>浏览器会重新向CDN负载均衡器发起请求，经过对用户IP地址的距离、所请求资源内容的位置等的综合计算，返回给用户确定的缓存服务器IP地址。</li><li>浏览器最后对缓存服务器进行请求资源。</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="静态资源适合使用cdn">静态资源适合使用CDN<a class="hash-link" href="#静态资源适合使用cdn" title="标题的直接链接">​</a></h3><blockquote><p>静态资源指的是不需要网站业务服务器参与计算即可得到的资源，包括第三方库的JavaScript脚本文件、样式表文件以及图片等，这些文件的特点是访问频率高、承载流量大、但更新频次低，且不与业务有太多耦合。</p></blockquote><blockquote><p>如果是动态资源文件，比如依赖服务器端渲染得到的HTML页面，它需要借助服务器端的数据进行计算才能得到，所以这样的资源不适合存放在CDN缓存服务器上。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cdn的性能优化">CDN的性能优化<a class="hash-link" href="#cdn的性能优化" title="标题的直接链接">​</a></h3><blockquote><p>下面仅介绍一个CDN优化点：域名设置。</p></blockquote><blockquote><p>在淘宝的主页上，主站请求的域名为 <a href="http://www.taobao.com" target="_blank" rel="noopener noreferrer">www.taobao.com</a> ，而静态资源请求CDN服务器的域名有g.alicdn.com和img.alicdn.com两种，这样做的原因有以下两点：</p></blockquote><ol><li>避免对静态资源的请求携带不必要的cookie信息。</li><li>考虑浏览器对同一域名下并发请求的限制。</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="面试常见问题">面试常见问题<a class="hash-link" href="#面试常见问题" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题1强缓存涉及到哪些请求头">问题1：强缓存涉及到哪些请求头？<a class="hash-link" href="#问题1强缓存涉及到哪些请求头" title="标题的直接链接">​</a></h3><blockquote><p>答：涉及到expires和cache-control两个字段，expires是HTTP1.0协议中的，cache-control是HTTP/1.1协议的。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题2为什么现在不用expries用cache-control">问题2：为什么现在不用expries用cache control？<a class="hash-link" href="#问题2为什么现在不用expries用cache-control" title="标题的直接链接">​</a></h3><blockquote><p>答：因为基于expires的强制缓存对本地时间戳过于依赖，如果客户端本地的时间与服务器端的时间不同步，那么对缓存过期的判断可能就会出错。cache-control通过maxage=xxx秒的形式来控制响应资源的有效期，如此可以避免服务器端和客户端时间戳不同步的问题。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题3强缓存public-private-no-store-no-catch区别cache-control有哪些属性分别表示什么意思">问题3：强缓存public private no-store no-catch区别？（Cache-Control有哪些属性?分别表示什么意思？）<a class="hash-link" href="#问题3强缓存public-private-no-store-no-catch区别cache-control有哪些属性分别表示什么意思" title="标题的直接链接">​</a></h3><blockquote><p>public：表示响应资源既可以被客户端缓存也可以被代理服务器缓存。
private：表示响应资源只能被浏览器缓存，如果没有显式指定则默认是private
no-store：表示禁止使用任何缓存，每次请求都需要服务器给与全新的响应。
no-cache：表示使用协商缓存。每次请求不再去判断强制缓存是否过期，而是直接向服务器发送请求来验证缓存的有效性。
max-age：表示服务器端告知客户端浏览器响应资源的过期时长。
s-maxage：表示缓存在代理服务器中的过期时长，且仅当设置了public属性值时才是有效的。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题4协商缓存的校验是在客户端还是服务器端协商缓存怎么验证是否命中">问题4：协商缓存的校验是在客户端还是服务器端？协商缓存怎么验证是否命中？<a class="hash-link" href="#问题4协商缓存的校验是在客户端还是服务器端协商缓存怎么验证是否命中" title="标题的直接链接">​</a></h3><blockquote><p>答：服务器端，服务器端会对比文件最后的修改时间和客户端请求携带的时间是否一致，一致则判断命中缓存。协商缓存存在两种形式，一种是基于last-modified，客户端第一次请求目标资源的时候，服务器返回的响应标头中包含last-modified和该资源的最后一次修改的时间戳，以及cache-control：no-cache，当客户端再次请求该资源的时候，会携带一个ifmodifiedsince字段，如果这个字段对应的时间和目标资源的时间戳进行对比，没有变化则返回304状态码。另一种是基于Etag的协商缓存，手下服务端将要返回给客户端的数据通过etag模块进行哈希计算生成一个字符串，这个字符串类似于文件指纹，检测客户端的请求标头中的ifNoneMatch字段的值和第一步计算的值是否一致，一致则返回304，不一致则返回最新的数据以及etag标头和Cache-Control：no-cache。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题5协商缓存出于什么原因有last-modifiedetag">问题5：协商缓存出于什么原因有Last-Modified,Etag?<a class="hash-link" href="#问题5协商缓存出于什么原因有last-modifiedetag" title="标题的直接链接">​</a></h3><blockquote><p>答：之所以有last-modified还有etag，是因为这二者均有自己的不足，last-modified是根据请求资源的最后修改时间戳来进行判断的，有可能只是对文件名进行了编辑，但是文件内容并未修改，这样时间戳也会更新，从而导致协商缓存判断失效，请求了已经存在的完整资源，这对网络带宽是一种浪费，也有可能是文件修改的速度是毫秒级别的，但是last-modified的单位是秒，可能无法识别出资源的修改。etag并非last-modified的完全替代方案，只能是一种补充方案，etag存在的问题是，服务器需要对文件资源进行etag计算，需要付出额外的计算开销，如果资源的尺寸比较大，生成Etag的过程可能会影响服务器的性能，所以这也就是为什么协商缓存既有last-modified又有etag的原因了。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题6协商缓存和强缓存的区别">问题6：协商缓存和强缓存的区别？<a class="hash-link" href="#问题6协商缓存和强缓存的区别" title="标题的直接链接">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="相同点">相同点<a class="hash-link" href="#相同点" title="标题的直接链接">​</a></h4><blockquote><p>都是从客户端缓存中读取资源。</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="不同点">不同点<a class="hash-link" href="#不同点" title="标题的直接链接">​</a></h4><ol><li>如果浏览器命中的是强缓存，则不需要给服务器发请求，而协商缓存最终由服务器来决定是否使用缓存，即客户端与服务器之间存在一次通信。</li><li>在chrome中命中缓存，返回的状态码是200，而如果是协商缓存，返回的是状态码304。</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题7expires-和-cache-control-哪个优先级高-不缓存怎么设置">问题7：expires 和 cache-control 哪个优先级高? 不缓存怎么设置？<a class="hash-link" href="#问题7expires-和-cache-control-哪个优先级高-不缓存怎么设置" title="标题的直接链接">​</a></h3><blockquote><p>答：expires是HTTP/1.0的产物，Cache-Control则是HTTP/1.1的产物，二者如果同时存在的话，Cache-Control优先级比Expires高。不缓存则是通过Cache-Control：no-store设置。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题8lastmodified-对应有个请求头是什么">问题8：LastModified 对应有个请求头是什么？<a class="hash-link" href="#问题8lastmodified-对应有个请求头是什么" title="标题的直接链接">​</a></h3><blockquote><p>last-modified-since.</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题9缓存的优先级顺序">问题9：缓存的优先级顺序？<a class="hash-link" href="#问题9缓存的优先级顺序" title="标题的直接链接">​</a></h3><blockquote><p>答：Cache-Control &gt; Expires &gt; Etag &gt; Last-Modified。</p></blockquote></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/面试题">面试题</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/一道考查面试者CSS功底的面试题—实现CSS九宫格">一道考查面试者CSS功底的面试题—实现CSS九宫格</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-10-05T00:00:00.000Z" itemprop="datePublished">2021年10月5日</time> · <!-- -->阅读需 2 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Justin</span></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><blockquote><p>通过CSS实现九宫格可以很好的考查候选人的CSS基本功，所以在当今的前端面试中，无论是大厂还是小厂，这个面试题经常出现在候选人面前，这道题目看似简单，但是最终能够做出来的人也是凤毛麟角，让我们来一探究竟吧。</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="方法一使用table">方法一：使用table<a class="hash-link" href="#方法一使用table" title="标题的直接链接">​</a></h2><blockquote><p>table布局能够实现的原因在于table的tr和td能够将元素形成行列显示。table布局中有一个是否合并边框的样式border-collapse: collapse;值得我们注意。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="html部分">HTML部分<a class="hash-link" href="#html部分" title="标题的直接链接">​</a></h3><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">table</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">tr</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">3</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">tr</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">tr</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">4</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">5</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">6</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">tr</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">tr</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">7</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">8</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">9</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">tr</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">table</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="css部分">CSS部分<a class="hash-link" href="#css部分" title="标题的直接链接">​</a></h3><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector" style="color:#00009f">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">margin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">padding</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector" style="color:#00009f">table</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">border-collapse</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> collapse</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">margin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> auto</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector" style="color:#00009f">table td</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">width</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">height</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">background-color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token color">blue</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">border</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token unit">px</span><span class="token plain"> solid </span><span class="token hexcode color">#000</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">text-align</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> center</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">line-height</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="方法二使用flex布局">方法二：使用flex布局<a class="hash-link" href="#方法二使用flex布局" title="标题的直接链接">​</a></h2><blockquote><p>使用flex布局的核心在于flex-wrap: wrap。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="html部分-1">HTML部分<a class="hash-link" href="#html部分-1" title="标题的直接链接">​</a></h3><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">ul</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">3</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">4</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">5</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">6</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">7</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">8</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">9</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">ul</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="css部分-1">CSS部分<a class="hash-link" href="#css部分-1" title="标题的直接链接">​</a></h3><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector" style="color:#00009f">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">margin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">padding</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">box-sizing</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> border-box</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector" style="color:#00009f">li</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">list-style</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> none</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector" style="color:#00009f">ul</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">display</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flex</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">flex-wrap</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> wrap</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">width</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">180</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">height</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">180</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector" style="color:#00009f">ul </span><span class="token selector combinator" style="color:#00009f">&gt;</span><span class="token selector" style="color:#00009f"> li</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">background-color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token color">blue</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">width</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">calc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">100</span><span class="token unit">%</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">height</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">line-height</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">border</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token unit">px</span><span class="token plain"> solid </span><span class="token hexcode color">#000</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">text-align</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> center</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="实现效果">实现效果<a class="hash-link" href="#实现效果" title="标题的直接链接">​</a></h2><p><img loading="lazy" src="https://img-blog.csdnimg.cn/img_convert/136dde832b618a8935fdb21b35f3b727.png" alt="image.png" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/面试题">面试题</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/这一次，彻底搞定伪类和伪元素的区别">这一次，彻底搞定伪类和伪元素的区别</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-09-30T00:00:00.000Z" itemprop="datePublished">2021年9月30日</time> · <!-- -->阅读需 3 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Justin</span></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><blockquote><p>很多人经常对CSS中的伪类和伪元素分不清楚，或者将这两者混为一谈，今天让我们来了解下这两者都有哪些区别。在CSS3之前是没有伪元素与伪类的区别的，直到CSS3才将这二者区分开来。</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="为什么要引入伪类和伪元素">为什么要引入伪类和伪元素？<a class="hash-link" href="#为什么要引入伪类和伪元素" title="标题的直接链接">​</a></h2><blockquote><p>CSS之所以要引入伪类和伪元素是为了格式化文档树之外的信息，也就是说，伪类和伪元素是用来修饰不在文档树的部分，比如第一句话中的第一个字母或列表中的第一个元素。</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="什么是伪类">什么是伪类？<a class="hash-link" href="#什么是伪类" title="标题的直接链接">​</a></h2><blockquote><p>伪类表示的是被选择元素的某种状态,例如hover。</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="伪类的分类">伪类的分类<a class="hash-link" href="#伪类的分类" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="状态性伪类">状态性伪类<a class="hash-link" href="#状态性伪类" title="标题的直接链接">​</a></h3><blockquote><p>状态性伪类是根据元素当前的状态进行选择的，当元素进入某种状态时呈现一种样式，进入另一种状态时呈现另一种样式。</p></blockquote><blockquote><p>典型的状态性伪类有：</p></blockquote><ul><li>:link 应用与未被访问过的链接。</li><li>:hover 应用于鼠标悬停到的元素。</li><li>:active 应用于被激活的元素。</li><li>:visited 应用于被访问过的链接，与:link互斥。</li><li>:focus 应用于拥有键盘输入焦点的元素。</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="结构性伪类">结构性伪类<a class="hash-link" href="#结构性伪类" title="标题的直接链接">​</a></h3><blockquote><p>CSS3新增选择器，利用DOM树进行元素过滤，通过文档结构的互相关系来匹配元素，能够减少class和id属性的定义，使得文档结构更加简洁。</p></blockquote><blockquote><p>典型的结构性伪类有下面的例子：</p></blockquote><ul><li>div:first-child 选择属于其父元素的第一个子元素的每个div元素。</li><li>div:last-child 选择属于其父元素最后一个子元素的每个div元素。</li><li>div:nth-child(n) 选择属于其父元素的第n个子元素的每个div元素。</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="什么是伪元素">什么是伪元素？<a class="hash-link" href="#什么是伪元素" title="标题的直接链接">​</a></h2><blockquote><p>伪元素表示的是被选择元素的某个部分，这个部分看起来像一个独立的元素，例如::before和::after。</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="伪类和伪元素的区别">伪类和伪元素的区别<a class="hash-link" href="#伪类和伪元素的区别" title="标题的直接链接">​</a></h2><blockquote><p>伪类是操作文档中已有的元素，而伪元素则是创建了一个不在文档树中的元素，并为其添加样式。</p></blockquote></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/面试题">面试题</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/一道考频较高的面试题：数组和链表的区别">一道考频较高的面试题：数组和链表的区别</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-09-29T00:00:00.000Z" itemprop="datePublished">2021年9月29日</time> · <!-- -->阅读需 2 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Justin</span></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><blockquote><p>数组和链表虽然看似很基础，但却也经常被面试官问到，所以我们还是需要熟练掌握的。</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="区别1内存上是否连续">区别1：内存上是否连续<a class="hash-link" href="#区别1内存上是否连续" title="标题的直接链接">​</a></h2><ul><li>数组在内存上是连续的</li><li>链表在内存上不是连续的,链表是通过指针指向下一个元素。</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="区别2存放位置不同">区别2：存放位置不同<a class="hash-link" href="#区别2存放位置不同" title="标题的直接链接">​</a></h2><ul><li>数组存放在栈中</li><li>链表存放在堆中</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="区别3查询时间复杂度不同">区别3：查询时间复杂度不同<a class="hash-link" href="#区别3查询时间复杂度不同" title="标题的直接链接">​</a></h2><ul><li>数组查询时间复杂度是O(1)</li><li>链表查询时间复杂度是O(N)</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="区别4插入或删除的时间复杂度不同">区别4：插入或删除的时间复杂度不同<a class="hash-link" href="#区别4插入或删除的时间复杂度不同" title="标题的直接链接">​</a></h2><ul><li>数组的时间复杂度是O(N)</li><li>链表的时间复杂度是O(1)</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="区别5内存分配方式不同">区别5：内存分配方式不同<a class="hash-link" href="#区别5内存分配方式不同" title="标题的直接链接">​</a></h2><ul><li>数组是静态分配内存</li><li>链表是动态分配内存</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/面试题">面试题</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/二刷--用两个栈实现队列">二刷--用两个栈实现队列</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-09-25T00:00:00.000Z" itemprop="datePublished">2021年9月25日</time> · <!-- -->阅读需 3 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Justin</span></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题目描述">题目描述<a class="hash-link" href="#题目描述" title="标题的直接链接">​</a></h2><p><img loading="lazy" src="https://img-blog.csdnimg.cn/img_convert/eddac7a0db55bb90ddf65620730d2595.png" alt="image.png" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="解题思路">解题思路<a class="hash-link" href="#解题思路" title="标题的直接链接">​</a></h2><ol><li>一个栈用来模拟入队操作。</li><li>另一个栈用来模拟出队操作。</li><li>在构造函数的原型对象上添加增加队尾元素函数和删除队头元素函数，注意，这两个函数都不要使用箭头函数，因为涉及到this。</li><li>增加队尾元素只需直接在入队栈中入队即可。</li><li>删除队头元素则需进行如下判断<ul><li>出队栈中是否有元素，有则直接出栈</li><li>入队栈中是否有元素<ul><li>有：将入队栈中的所有元素倒序加入到出队栈中，然后返回出队栈的栈顶元素。</li><li>没有：返回-1.</li></ul></li></ul></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ac代码">AC代码<a class="hash-link" href="#ac代码" title="标题的直接链接">​</a></h2><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">CQueue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 模拟入队栈</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">stackA</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 模拟出队栈</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">stackB</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @description: 在队尾中添加元素</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @param {*}</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @return {*}</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">CQueue</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">appendTail</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 直接在入队栈中入队即可</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">stackA</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">CQueue</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">deleteHead</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 首先判断出队栈中是否有元素，有则出栈</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">stackB</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">stackB</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 走到这里说明出队栈中没有元素，我们判断入队栈中是否有元素</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">stackA</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 把入队栈中的元素倒序加入出队栈  这是本题的解题核心</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">while</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">stackA</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">stackB</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">stackA</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">stackB</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题目反思">题目反思<a class="hash-link" href="#题目反思" title="标题的直接链接">​</a></h2><blockquote><p>本次遇到这个题目属于二刷了，这个题目是剑指offer的一道题目，第二次遇到也没有很顺利的做出来，本题的思路并不难，遇到的困难主要是我想使用箭头函数，但是因为本题涉及到了this指向的问题，箭头函数的this指向是看运行时的上下文环境的，所以导致报错，所以希望在以后的学习和工作中一旦涉及到this指向的问题，一定要考虑清楚箭头函数的问题。</p></blockquote></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/面试题">面试题</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/一篇文章搞定几乎所有TCPUDP面试题">一篇文章搞定几乎所有TCP/UDP面试题</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-09-21T00:00:00.000Z" itemprop="datePublished">2021年9月21日</time> · <!-- -->阅读需 29 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Justin</span></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><blockquote><p>无论是大厂面试还是小厂面试，以及平时工作学习中TCP/UDP协议都是我们绕不开的话题，本文的行文顺序为什么会是这样的？这是按照真实出现的面试题目来进行分章节的，也就是说每一个小标题都是一道面试题。本次让我们一起下定决心将这个问题彻底解决，加油！</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="一tcp和udp的区别">一、TCP和UDP的区别<a class="hash-link" href="#一tcp和udp的区别" title="标题的直接链接">​</a></h2><blockquote><p>关于TCP和UDP的区别，我们可以考虑从以下六个维度出发进行阐述。</p></blockquote><ol><li>是否连接<ul><li>TCP是面向连接的，UDP是面向无连接的</li></ul></li><li>是否可靠<ul><li>TCP是可靠的，UDP是不可靠的</li></ul></li><li>连接对象的个数<ul><li>TCP只支持一对一通信，而UDP支持一对一、一对多、多对一、多对多通信。</li></ul></li><li>传输方式<ul><li>TCP是面向字节流的，UDP是面向报文的。</li></ul></li><li>首部开销<ul><li>TCP首部开销大，最小20字节，但是UDP首部仅8字节。</li></ul></li><li>应用场景<ul><li>TCP适用于可靠传输的场景比如支付场景，UDP适合实时应用，例如视频会议直播。</li></ul></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="二tcp为什么是可靠的">二、TCP为什么是可靠的？<a class="hash-link" href="#二tcp为什么是可靠的" title="标题的直接链接">​</a></h2><blockquote><p>TCP主要靠以下六种机制来保证传输的可靠性。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-tcp校验和">1. TCP校验和<a class="hash-link" href="#1-tcp校验和" title="标题的直接链接">​</a></h3><blockquote><p>TCP校验和是一个端对端的校验和，由发送端计算，然后由接收端进行验证，其目的是为了发现TCP首部和数据在发送端到接收端之间发生的任何改动，如果接收方检测到校验和有差错，则TCP段会被直接丢弃。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2-确认应答和序列号">2. 确认应答和序列号<a class="hash-link" href="#2-确认应答和序列号" title="标题的直接链接">​</a></h3><blockquote><p><code>确认应答</code>指的是发送端每次发送数据后都会收到接收端的确认应答ACK，发送端只有接收到确认应答ACK之后才会继续发送数据，假如在特定时间内没有收到接收端的确认应答ACK，发送端会重新发送数据。<code>序列号</code>机制的存在是为了防止在有网络延迟的情况下发送端不断发送相同数据的情况发生。每当发送端发送数据时，会将序列号放入TCP的首部，然后接收端在序列号的基础上+1生成新的序列号，然后通过ACK传回给发送端，发送端会根据这个序列号来判断是否重新发送之前的数据。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3-超时重传">3. 超时重传<a class="hash-link" href="#3-超时重传" title="标题的直接链接">​</a></h3><blockquote><p>超时重传就是在发送数据时，设定一个定时器，当超过指定的时间后，没有收到对方的ACK确认应答报文，就会重发该数据。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4-连接管理">4. 连接管理<a class="hash-link" href="#4-连接管理" title="标题的直接链接">​</a></h3><blockquote><p>连接管理主要是指的三次握手和四次挥手，详细的情况请看本文的第四部分。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5-流量控制">5. 流量控制<a class="hash-link" href="#5-流量控制" title="标题的直接链接">​</a></h3><blockquote><p>流量控制的目的是控制发送端的发送速度，使其按照接收端的数据处理速度来发送数据，避免接收端处理不过来，产生丢包或网络拥塞，TCP实现流量控制的关键是滑动窗口，发送端和接收端均有一个滑动窗口对应一个缓冲区，记录当前发送或接收到的数据，接收端会在返回的ACK报文中包含自己可用于接收数据的缓冲区的大小，在TCP的报文首部里用window表示，发送端发送的数据不会超过window的大小。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="6-拥塞控制">6. 拥塞控制<a class="hash-link" href="#6-拥塞控制" title="标题的直接链接">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题1为什么要有拥塞控制">问题1：为什么要有拥塞控制？<a class="hash-link" href="#问题1为什么要有拥塞控制" title="标题的直接链接">​</a></h4><blockquote><p>如果网络出现拥堵，此时TCP还在继续重传数据，就会加重网络的负担，会导致更大的延迟以及更多的丢包。所以TCP为了避免这一现现象就设计了拥塞控制，目的就是避免发送方的数据填满整个网络。</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题2什么是拥塞窗口">问题2：什么是拥塞窗口？<a class="hash-link" href="#问题2什么是拥塞窗口" title="标题的直接链接">​</a></h4><blockquote><p>上文我们提到了拥塞控制是为了避免发送发的数据填满整个网络，所以我们需要调节发送方发送的数据量，定义了一个叫做拥塞窗口的概念。</p></blockquote><blockquote><p>概念：拥塞窗口cwnd是发送方维护的一个状态量，它会根据网络的拥塞程度动态变化，有了拥塞窗口之后意味着发送窗口只能是拥塞窗口和接收窗口之间的最小值。</p></blockquote><ul><li>拥塞窗口cwnd的变化规则：</li></ul><ol><li>只要网络中没有出现拥塞，cwnd就会增大。</li><li>一旦网络中出现拥塞，cwnd就会减少。</li></ol><blockquote><p>只要发送方没有在对丁的时间内接收到ACK确认应答报文就认为网络中出现了拥塞。</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题3拥塞控制的主要算法都有哪些">问题3：拥塞控制的主要算法都有哪些？<a class="hash-link" href="#问题3拥塞控制的主要算法都有哪些" title="标题的直接链接">​</a></h4><ol><li>慢启动</li></ol><blockquote><p>慢启动指的是发送方每收到一个ACK，拥塞窗口cwnd的大小就会+1.当拥塞窗口大于等于慢启动门限的时候就会启动拥塞避免算法。慢启动的增长速率为指数增长。</p></blockquote><ol start="2"><li>拥塞避免</li></ol><ul><li>拥塞避免的规则</li></ul><blockquote><p>每收到一个ACK确认，cwnd增加1/cwnd。</p></blockquote><ul><li>例子</li></ul><blockquote><p>假如慢启动门限的值为16，当收到16个ACK确认的时候，cwnd才增加1。</p></blockquote><ul><li>拥塞避免算法的意义</li></ul><blockquote><p>将原本慢启动算法的指数增长变为了线性增长，降低了增长速度。但是这样增长着还是会进入拥塞状态，此时就会进行重传，然后进入拥塞发生的情况。</p></blockquote><ol start="3"><li>拥塞发生<blockquote><p>当网络发生拥塞的时候会启动重传机制，重传机制包括超时重传和快速重传，针对这两种重传方式有两种不同的拥塞发生算法。</p></blockquote></li></ol><ul><li>针对超时重传的拥塞发生算法</li></ul><blockquote><p>慢启动门限ssthresh变为cwnd/2,然后将cwnd置为1。然后重新开始慢启动，这种方式会突然减少数据流，造成网络卡顿。</p></blockquote><ul><li>针对快速重传的拥塞发生算法</li></ul><blockquote><p>当接收方发现丢了一个包的时候，会发送三次前一个包的ACK，当发送端收到这三个ACK的时候，就会启动快速重传，不必等待超时重传。此时cwnd变为原来的一半，然后慢启动门限也等于这个cwnd,然后开始快速恢复算法。</p></blockquote><ul><li>快速恢复算法的规则</li></ul><blockquote><p>拥塞窗口cwnd = 慢启动门限ssthresh + 3(之所以加3是因为发送端收到三个ACK确认报文，表明网络中少了三个报文，所以拥塞窗口可以+3),然后重传丢失的数据包，如果收到重复的ACK，cwnd+1,如果收到新的ACK，将cwnd置为原本的慢启动门限值，表明丢失的报文都已经收到，恢复过程已经结束，可以再次进入拥塞避免状态了。</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="拥塞控制的实例图">拥塞控制的实例图<a class="hash-link" href="#拥塞控制的实例图" title="标题的直接链接">​</a></h4><p><img loading="lazy" src="https://img-blog.csdnimg.cn/img_convert/af9fdb6043138f5e0fc39883c1726a88.png" alt="image.png" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="三什么是滑动窗口">三、什么是滑动窗口？<a class="hash-link" href="#三什么是滑动窗口" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-为什么要有滑动窗口">1. 为什么要有滑动窗口？<a class="hash-link" href="#1-为什么要有滑动窗口" title="标题的直接链接">​</a></h3><blockquote><p>当发送方一次性发送过多的数据给接收端，接收端是接收不过来的，所以发送端发送数据时必须限定在一定的容量内，这就是为什么要设置滑动窗口的原因（滑动窗口是一种流量控制策略，接收端告诉发送端一次最多可以发送多少数据）。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2-滑动窗口中的四个基本概念">2. 滑动窗口中的四个基本概念<a class="hash-link" href="#2-滑动窗口中的四个基本概念" title="标题的直接链接">​</a></h3><ul><li>发送方发送缓冲区内的数据可以被分为下面的四类：</li></ul><ol><li>已发送并收到ACK确认的数据。</li><li>已发送但未收到ACK确认的数据。</li><li>允许发送当尚未发送的数据。</li><li>发送窗口外发送缓存区内暂时不允许发送的数据。</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3-窗口滑动的移动规则">3. 窗口滑动的移动规则<a class="hash-link" href="#3-窗口滑动的移动规则" title="标题的直接链接">​</a></h3><ul><li>接收端在未接收到接收窗口最左边的数据时是不会发送ACK确认包的,直到最左边接收到数据才会发送ACK确认包并向右移动。</li><li>发送端在未收到发送窗口最左边的数据的ACK确认包时也是不会向右移动的。发送端根据自己收到的最大的ACK序号向右移动。</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4-发送方的发送窗口和接收方的接收窗口总是一样大的吗">4. 发送方的发送窗口和接收方的接收窗口总是一样大的吗？<a class="hash-link" href="#4-发送方的发送窗口和接收方的接收窗口总是一样大的吗" title="标题的直接链接">​</a></h3><blockquote><p>在同一时刻并不是，因为发送方可能根据当时的网络情况适当改变自己的发送窗口的尺寸，并且网络传送窗口值有一定的时延。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5-窗口边沿的三种移动方式">5. 窗口边沿的三种移动方式<a class="hash-link" href="#5-窗口边沿的三种移动方式" title="标题的直接链接">​</a></h3><ul><li>窗口合拢：指的是窗口左边沿向右边沿靠近，这种现象代表左边的数据被发送并确认。</li><li>窗口收缩：指的是窗口右边沿向左移动，这种现象可能代表的是接收端通知发送端窗口变小。</li><li>窗口张开：指的是窗口右边沿向右移动，这种现象代表了接收方读取了缓冲区里的数据。</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="四tcp的三次握手与四次挥手">四、TCP的三次握手与四次挥手<a class="hash-link" href="#四tcp的三次握手与四次挥手" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题1-为什么要进行三次握手">问题1. 为什么要进行三次握手？<a class="hash-link" href="#问题1-为什么要进行三次握手" title="标题的直接链接">​</a></h3><blockquote><p>因为TCP是面向连接的协议，所以使用TCP前必须先建立连接，而建立连接是通过三次握手来进行的。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题2三次握手的流程和状态变迁">问题2：三次握手的流程和状态变迁<a class="hash-link" href="#问题2三次握手的流程和状态变迁" title="标题的直接链接">​</a></h3><ul><li><p>刚开始时，客户端和服务端都处于closed状态，先是服务端主动监听某个端口，处于listen状态。</p></li><li><p>第一次握手：发送SYN报文。客户端会随机初始化一个序号x，然后将此序号置于TCP首部的序号字段中，然后把SYN标志置为1，然后把这个SYN报文发送给服务端，表示向服务端发起连接，该报文不包含应用层的数据，之后客户端处于SYN-SENT状态。</p></li><li><p>第二次握手：发送SYN+ACK报文。服务端收到客户端的SYN报文后，服务端也会随机初始化一个序号y，这个y也是放入TCP首部的序号字段中，然后把TCP首部的确认应答号(ack)字段填入x+1，接着把SYN和ACK标志置为1，最后把该报文发送给客户端，该报文也不包含应用层数据。之后服务端处于SYN-RCVD状态。</p></li><li><p>第三次握手：发送ACK报文。客户端收到服务端报文后，会将TCP首部的ACK标志位置为1，确认应答号ack置为y+1,序号置为x+1，然后把这个报文发送给服务端。这次报文可以携带应用层的数据，之后客户端处于established状态，服务器收到这个报文后也会进入established状态。</p></li></ul><blockquote><p>下图是博主绘制的TCP三次握手的流程图和状态变迁图，值得背诵。</p></blockquote><p><img loading="lazy" src="https://img-blog.csdnimg.cn/img_convert/9ffb8e813b8c7643258cc12c5db3bfbc.png" alt="image.png" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题3为什么是三次握手而不是二次或者四次">问题3：为什么是三次握手而不是二次或者四次？<a class="hash-link" href="#问题3为什么是三次握手而不是二次或者四次" title="标题的直接链接">​</a></h3><ul><li>常见不完整解释：三次握手可以确保通信的双方都具有收发数据的能力。</li></ul><blockquote><p>仅仅通过上面的解释1来回答面试官的问题是远远不够的，我们还需要给出下面的解释。</p><ul><li>正确解释：(三次握手可以避免以下问题)</li></ul><ol><li>三次握手可以避免历史连接。如果客户端发出连接请求，但是这个请求在传输中丢失了，客户端又重发了一遍，这一次收到了确认并建立了连接，数据传输完毕之后，关闭了这个连接，但是之前丢失的这个连接请求因为网络延迟的原因再次到达服务器端，服务器端以为是一个新的连接，于是向客户端发送确认报文段，同意连接。如果是二次握手，此时就已经建立了连接，但是客户端会忽略服务端发来的确认报文段，也不发送数据，但是服务器端却在一直等待来自客户端的数据，这样会造成数据浪费。如果是三次握手的话，当客户端收到历史连接的时候会发出终止的报文来终止连接。</li><li>三次握手可以同步双方初始序列号。TCP通信的双方都要确保初始序列号能被可靠的同步。这个序列号可以标识发送出去的数据包中哪些是已经被对方收到的。如果是二次握手的话只能保证一方的序列号被正确的接收，难以保证同步。</li></ol></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题4四次挥手的过程和状态改变">问题4：四次挥手的过程和状态改变<a class="hash-link" href="#问题4四次挥手的过程和状态改变" title="标题的直接链接">​</a></h3><ul><li>断开连接之前，双方都处于连接状态也就是establised状态。</li><li>第一次挥手：客户端发送一个FIN位置为1，序号seq为x的FIN报文，然后客户端进入FIN_WAIT_1状态。</li><li>第二次挥手：服务端收到客户端的FIN报文后，会给客户端发送一个ACK报文，表示已经收到了，然后进入CLOSED_WAIT状态。客户端收到这个报文后进入FIN_WAIT2状态。</li><li>第三次挥手：等到服务端处理完数据之后，也会向客户端发送一个FIN报文，然后服务端进入LAST_ACK状态。</li><li>第四次挥手：客户端收到服务端发送过来的FIN报文，会向服务端发送一个ACK报文，表示自己收到了，然后客户端进入TIME_WAIT状态，服务端收到这个ACK报文之后就会进入CLOSED状态。至此服务器端关闭结束，经过2MSL之后客户端进入CLOSED状态，也关闭了。</li></ul><blockquote><p>下图是博主绘制的四次挥手的流程图和状态改变。</p></blockquote><p><img loading="lazy" src="https://img-blog.csdnimg.cn/img_convert/274365a670199dfd24a842682524a17d.png" alt="image.png" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题5为什么是四次挥手而不是三次">问题5：为什么是四次挥手而不是三次？<a class="hash-link" href="#问题5为什么是四次挥手而不是三次" title="标题的直接链接">​</a></h3><blockquote><p>原因：服务端收到客户端发送的FIN包后，可能还有没有发送完的数据，所以先回复一个ACK确认包，表示已经收到了FIN包，等服务端将剩余数据发送完毕之后再发送一个FIN包给客户端表示已经没有要发送的数据了，可以结束了连接了。所以是四次挥手而不是三次。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题6如果客户端没有收到服务端返回的fin包客户端会一直等待吗">问题6：如果客户端没有收到服务端返回的FIN包，客户端会一直等待吗？<a class="hash-link" href="#问题6如果客户端没有收到服务端返回的fin包客户端会一直等待吗" title="标题的直接链接">​</a></h3><blockquote><p>答：并不会，因为如果没有收到服务器端的FIN包，会让客户端一直处于FIN_WAIT2状态，FIN_WAIT2没有时间限制，如果本端进入FIN_WAIT2如果，对端失去响应，本端也不会一直卡在FIN_WAIT2状态，因为还可以使用TCP keepalive计时器避免此问题。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题7什么是2msltime_wait状态为什么要设置2msl">问题7：什么是2MSL？TIME_WAIT状态为什么要设置2MSL？<a class="hash-link" href="#问题7什么是2msltime_wait状态为什么要设置2msl" title="标题的直接链接">​</a></h3><ul><li>1MSL表示报文的最大生存时间，超过这个时间的报文将被丢弃。<blockquote><p>之所以TIME_WAIT要设置为2MSL是因为第四次挥手的这个ACK确认包，服务器端未必能收到，如果收不到这个包进行重传的话，一来一回最多2MSL的时间，如果在这个时间都没有收到服务端的重传说明服务端已经收到了这个包，此时客户端就可以正常关闭了。</p></blockquote></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="五tcpip的四层网络模型">五、TCP/IP的四层网络模型<a class="hash-link" href="#五tcpip的四层网络模型" title="标题的直接链接">​</a></h2><blockquote><p>关于TCP/IP的四层网络模型主要包括以下的四个方面。</p></blockquote><ul><li>应用层</li><li>传输层</li><li>网络层</li><li>网络接口层</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="六tcp的拆包与粘包问题">六、TCP的拆包与粘包问题<a class="hash-link" href="#六tcp的拆包与粘包问题" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题1tcp为什么要进行拆包tcp是如何进行拆包的">问题1：TCP为什么要进行拆包？（TCP是如何进行拆包的？）<a class="hash-link" href="#问题1tcp为什么要进行拆包tcp是如何进行拆包的" title="标题的直接链接">​</a></h3><ol><li>要发送的数据大于TCP发送缓冲区剩余空间大小，将会发生拆包。</li><li>待发送数据大于MSS（最大报文长度），TCP在传输前将进行拆包。</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题2什么是粘包">问题2：什么是粘包？<a class="hash-link" href="#问题2什么是粘包" title="标题的直接链接">​</a></h3><blockquote><p>TCP是面向字节流的协议，不会发送数据包，这个数据包是网络层的概念，应用程序交付给TCP的是结构化的数据，TCP会对这个结构化的数据做流式传输，流式传输最大的问题就是没有边界，没有边界就会造成数据粘在一起，这种粘在一起就是粘包，具体的概念可以理解为发送方发送的若干个数据包到接收方接收时粘在一起，从接收缓冲区看后一包数据的头紧接着前一包数据的尾。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题3什么情况下会发生粘包">问题3：什么情况下会发生粘包？<a class="hash-link" href="#问题3什么情况下会发生粘包" title="标题的直接链接">​</a></h3><ol><li>要发送的数据小于TCP发送缓冲区大小，TCP将多次写入缓冲区的数据一次发送出去，将会发生粘包。</li><li>接收数据的应用层没有及时读取接收缓冲区中的数据，将发生粘包。</li><li>由于TCP是有连接复用机制的，多个进程使用一个TCP连接，多种不同结构的数据进入TCP的流式传输也可能造成粘包现象。</li><li>Nagle算法可能导致粘包，因为Nagle算法会将多个分组拼装为一个数据段发送出去，如果没有处理好边界，也可能会发生粘包问题。</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题4如何解决粘包问题">问题4：如何解决粘包问题？<a class="hash-link" href="#问题4如何解决粘包问题" title="标题的直接链接">​</a></h3><ol><li>发送端给每个数据包添加包首部，首部中应该至少包含数据包的长度，这样接收端在接收到数据后，通过读取包首都的长度字段，便知道每一个数据包的实际长度了。</li><li>发送端将每个数据包封装为固定长度，这样接收端每次从接收缓冲区中读取固定长度的数据就自然而然的把每个数据包拆分开来。</li><li>在数据包之间设置边界，如添加特殊符号。</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="七tcp与http的区别">七、TCP与HTTP的区别<a class="hash-link" href="#七tcp与http的区别" title="标题的直接链接">​</a></h2><ol><li>TCP是传输层协议，定义的是数据传输和连接方式的规范，HTTP是应用层协议，定义的是传输数据的内容的规范。</li><li>HTTP是无状态的短连接，TCP是有状态的长链接。</li><li>HTTP协议是在TCP协议之上建立的，HTTP在发起请求时通过TCP协议建立起连接服务器的通道。</li></ol><blockquote><p>注意：从HTTP/1.1版本起，默认开启了Keep-Alive，保持连接性，当一个网页打开后，客户端和服务器端之间用于传输HTTP数据的TCP连接不会被关闭，如果客户端再次访问这个服务器上的网页，会继续使用这一条已经建立好的Keep-Alive，但是这个Keep-Alive会有一个保持的时间。</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="八流量控制和拥塞控制的区别">八、流量控制和拥塞控制的区别？<a class="hash-link" href="#八流量控制和拥塞控制的区别" title="标题的直接链接">​</a></h2><blockquote><p>流量控制是由接收端控制的，拥塞控制是由发送端控制的，最终都是控制发送端的发送速率。</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="九tcpudp的报文格式">九、TCP/UDP的报文格式<a class="hash-link" href="#九tcpudp的报文格式" title="标题的直接链接">​</a></h2><p><img loading="lazy" src="https://img-blog.csdnimg.cn/img_convert/672f3ac62903f8ef8e2e6768a494287c.png" alt="image.png" class="img_ev3q"></p><blockquote><p>下面对UDP报文格式字段进行解释</p></blockquote><ul><li>源端口：这个字段是UDP报文头的前16位，代表的是发送这个数据报的应用程序所使用的UDP端口，这个字段是可选的，接收端根据这个字段发送响应。</li><li>目的端口：接收端计算机上UDP应用程序使用的端口。</li><li>长度：该字段也占据16位，表示的是UDP数据包的长度，包含UDP报文头和UDP数据长度。</li><li>UDP校验和：可以检验数据在传输中是否被损坏。</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="十udp应该如何解决可靠性的问题">十、UDP应该如何解决可靠性的问题？<a class="hash-link" href="#十udp应该如何解决可靠性的问题" title="标题的直接链接">​</a></h2><blockquote><p>UDP不可靠的原因在于传输层无法保证数据的可靠传输，所以我们可以通过应用层来实现可靠传输，例如在应用层实现超时重传，提供确认序列号，滑动窗口等。</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="十一nagle算法与延迟确认机制">十一、Nagle算法与延迟确认机制<a class="hash-link" href="#十一nagle算法与延迟确认机制" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题1什么是nagle算法为什么要设置nagle算法">问题1：什么是Nagle算法？为什么要设置Nagle算法？<a class="hash-link" href="#问题1什么是nagle算法为什么要设置nagle算法" title="标题的直接链接">​</a></h3><blockquote><p>TCP总是希望尽可能的发送足够大的数据，Nagle算法就是为了实现尽可能的发送大块数据，避免网络中充斥着许多小数据块。Nagle算法的基本定义是任意时刻，最多只能有一个未被确认的小段，这个小段指的是小于MSS尺寸的数据块，所谓未被确认是指一个数据块发送出去之后没有收到对方的ACK确认。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题2nagle算法的规则">问题2：Nagle算法的规则<a class="hash-link" href="#问题2nagle算法的规则" title="标题的直接链接">​</a></h3><ol><li>如果数据报的长度达到了MSS，则允许发送。</li><li>如果数据包中包含有FIN，则允许发送。</li><li>如果设置了TCP_NODELAY选项，则允许发送。</li><li>如果没有设置TCP_CORK选项，且所有发出去的小数据包都被确认了，则允许发送。</li><li>如果上述四个条件都没有得到满足，但是发生了超时则立即发送。</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题3什么是延迟确认机制">问题3：什么是延迟确认机制？<a class="hash-link" href="#问题3什么是延迟确认机制" title="标题的直接链接">​</a></h3><blockquote><p>TCP的接收端在收到报文后，不会立即发送ACK，而是等待一段时间发送ack，以便将ack和要发送的数据一起发送给发送端，同时这样做可以合并ACK，比如连续收到了两个TCP包，只要回复最终的ACK即可。但是这个延迟不会无限延长，在何时发送ACK时有如下规定：</p></blockquote><ul><li>当有响应数据要发送时，ack会随着数据一块发送。</li><li>如果此时没有响应数据要发送，会有一个延迟时间范围，如果在这个延迟时间范围内有响应数据要发送则随着这个数据一起发送，超过了这个时间范围则直接发送。</li><li>如果在延迟期间内，新的数据到了，则直接发送ACK。</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="参考资料">参考资料<a class="hash-link" href="#参考资料" title="标题的直接链接">​</a></h2><ul><li><a href="https://segmentfault.com/a/1190000018592072" target="_blank" rel="noopener noreferrer">TCP是如何实现可靠连接的？</a></li><li><a href="https://www.cnblogs.com/xiaolincoding/p/12732052.html" target="_blank" rel="noopener noreferrer">30张图解： TCP 重传、滑动窗口、流量控制、拥塞控制</a>)</li><li><a href="https://juejin.cn/post/6844904105211592712" target="_blank" rel="noopener noreferrer">蚂蚁金服面试 TCP中的滑动窗口 | 掘金技术征文</a></li><li><a href="https://github.com/Obsession-kai/Indoor_Positioning_Algorithm.eg.landmarc/issues/2" target="_blank" rel="noopener noreferrer">没有比这篇讲得更详细了：TCP协议面试10连问，总会用得到，建议收藏</a></li><li><a href="https://www.cnblogs.com/xiaolincoding/p/12638546.html" target="_blank" rel="noopener noreferrer">强烈推荐：35 张图解：被问千百遍的 TCP 三次握手和四次挥手面试题</a></li><li><a href="https://www.bilibili.com/video/BV1L4411a7RN?from=search&amp;seid=896317388929706020" target="_blank" rel="noopener noreferrer">计算机网络第35讲-TCP的拥塞控制（计算机网络简明教程及仿真实验）</a></li><li><a href="https://github.com/sisterAn/blog/issues/96" target="_blank" rel="noopener noreferrer">一文走进 HTTP 与 TCP 协议，它们的区别与联系</a></li><li><a href="https://imageslr.com/2020/tcp-flow-control-congestion.html" target="_blank" rel="noopener noreferrer">【计算机网络】TCP 的流量控制与拥塞控制</a></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/面试题">面试题</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/二刷--斐波那契数列">二刷--斐波那契数列</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-09-17T00:00:00.000Z" itemprop="datePublished">2021年9月17日</time> · <!-- -->阅读需 2 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Justin</span></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><blockquote><p>这是博主第二次刷这个题目，经典题目的经典算法，斐波那契数列可以采用递归来进行求解，但是如果要求的数字比较大的情况下，会出现重复计算的问题，复杂度比较高，所以我们本次采用的是非递归的方法，极大的降低了时间和空间复杂度。</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题目描述">题目描述<a class="hash-link" href="#题目描述" title="标题的直接链接">​</a></h2><p><img loading="lazy" src="https://img-blog.csdnimg.cn/img_convert/9d778307073545fbacfb514ebbc3cdf7.png" alt="image.png" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="解题思路">解题思路<a class="hash-link" href="#解题思路" title="标题的直接链接">​</a></h2><ul><li>如果目标值小于等于1，则直接返回。</li><li>如果目标值大于等于1，则定义两个临时变量保存前两个数字。</li><li>通过循环的方法不断更新这两个值，即可求出最终的解。</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ac代码">AC代码<a class="hash-link" href="#ac代码" title="标题的直接链接">​</a></h2><blockquote><p>由于leetcode上需要进行取余计算，我们只需要给结果去个余即可。</p></blockquote><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">fib</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> prev1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> prev2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">prev1 </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> prev2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000000007</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        prev2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> prev1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        prev1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题目反思">题目反思<a class="hash-link" href="#题目反思" title="标题的直接链接">​</a></h2><ul><li>学会使用非递归的方法求解斐波那契数列来降低算法的复杂度。</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/面试题">面试题</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/面试官让我手写Promise.all">面试官让我手写Promise.all</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-09-11T00:00:00.000Z" itemprop="datePublished">2021年9月11日</time> · <!-- -->阅读需 3 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Justin</span></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="原生的promiseall有什么特点">原生的Promise.all有什么特点？<a class="hash-link" href="#原生的promiseall有什么特点" title="标题的直接链接">​</a></h2><ol><li>特点1：接收一个可迭代对象</li><li>特点2：传入的数据中可以是普通数据，也可以是Promise对象</li><li>特点3：可迭代对象的promise是并行执行的</li><li>特点4：保持输入数组的顺序和输出数组的顺序一致</li><li>特点5：传入数组中只要有一个reject，立即返回reject</li><li>特点6：所有数据resolve之后返回结果</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="实现promiseall">实现Promise.all<a class="hash-link" href="#实现promiseall" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1函数返回的是一个promise对象">1：函数返回的是一个Promise对象<a class="hash-link" href="#1函数返回的是一个promise对象" title="标题的直接链接">​</a></h3><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">myPromiseAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">iterable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Promise</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">resolve</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter">reject</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2将可迭代对象转换为一个数组">2：将可迭代对象转换为一个数组<a class="hash-link" href="#2将可迭代对象转换为一个数组" title="标题的直接链接">​</a></h3><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> promises </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Array</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword module" style="color:#00009f">from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">iterable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3并发执行每一个promise">3：并发执行每一个Promise<a class="hash-link" href="#3并发执行每一个promise" title="标题的直接链接">​</a></h3><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 定义一个计数器用来判断是否所有的promise执行完毕</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> count </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 并发执行每一个promise</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> promises</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token known-class-name class-name">Promise</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">promises</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        result</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        count</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">count </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> promises</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">err</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">reject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>第三步是实现Promise.all的核心，有几点需要我们注意：</p></blockquote><ol><li>并不是push进result数组的，而是通过下标的方式进行存储，这是因为我们为了保证输出的顺序，因为Promise对象执行的时间可能不同，push的话会破坏顺序。</li><li>通过计数标志来判断是否所有的promise对象都执行完毕了，因为在then中表示该promise对象已经执行完毕。</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="完整实现">完整实现<a class="hash-link" href="#完整实现" title="标题的直接链接">​</a></h2><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">myPromiseAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">iterable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Promise</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">resolve</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter">reject</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> promises </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Array</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword module" style="color:#00009f">from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">iterable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 定义Promise对象resolve的数组</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 定义一个计数器用来判断是否所有的promise执行完毕</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> count </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 并发执行每一个promise</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> promises</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token known-class-name class-name">Promise</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">promises</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                result</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                count</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">count </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> promises</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">err</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">reject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="promiseall的实现给我们什么启示">Promise.all的实现给我们什么启示<a class="hash-link" href="#promiseall的实现给我们什么启示" title="标题的直接链接">​</a></h2><ul><li>Promise.all返回的是一个Promise对象</li><li>Promise.all接收的可迭代对象数组需要通过Array.from转换为数组</li><li>Promise.all是并发执行的。</li><li>Promise.all中一个reject直接返回reject的结果。</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/面试题">面试题</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/前端面试不会直接挂掉的题目--冒泡排序">前端面试不会直接挂掉的题目--冒泡排序</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-09-10T00:00:00.000Z" itemprop="datePublished">2021年9月10日</time> · <!-- -->阅读需 4 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Justin</span></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><blockquote><p>在准备面试的过程中，我们往往容易陷入到很多难度比较高的题目中不能自拔，却忽略了比较基础的题目，面试官在不了解我们的情况下，刚开始可能会问我们一道比较基础的算法题，比如数据结构，请问你能手写下冒泡排序吗？如果此时不会的话，可能直接结束面试了。哈哈~，让我们今天来一起学习下这个比较简单的排序算法吧~</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="什么是冒泡排序">什么是冒泡排序？<a class="hash-link" href="#什么是冒泡排序" title="标题的直接链接">​</a></h2><blockquote><p>冒泡排序指的是一种排序的思想，假如我们拿到一个数组，数组中是一堆无序的数字，冒泡排序就可以让这堆无序的数字变得有序，之所以叫做冒泡排序而不是其他的XX排序，是因为冒泡排序的每一轮排序中都将最大的值置为了最后的位置上，就像冒泡一样，所以取名为冒泡排序。</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="冒泡排序的思想">冒泡排序的思想<a class="hash-link" href="#冒泡排序的思想" title="标题的直接链接">​</a></h2><ol><li>排序的轮数是数组的长度-1.</li><li>每一轮排序都将最大的值放在最末尾。</li><li>下一轮排序需要比较的次数都要比上一轮少一次。</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="实现冒泡排序">实现冒泡排序<a class="hash-link" href="#实现冒泡排序" title="标题的直接链接">​</a></h2><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">mySort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">arr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> temp</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> j </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> j </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> j</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                temp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> temp</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mySort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="时间复杂度和空间复杂度分析">时间复杂度和空间复杂度分析<a class="hash-link" href="#时间复杂度和空间复杂度分析" title="标题的直接链接">​</a></h2><ul><li><p>空间复杂度</p><blockquote><p>在空间上，我们只定义了一个临时变量进行交换使用，所以空间复杂度为O(1)。</p></blockquote></li><li><p>时间复杂度</p><blockquote><p>我们分析最差情况下的时间复杂度，假如数组是完全逆序排列的，时间复杂度为：3n(n-1)/2，所以平均时间复杂度为O(n^2).</p></blockquote></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="冒泡排序的稳定性">冒泡排序的稳定性<a class="hash-link" href="#冒泡排序的稳定性" title="标题的直接链接">​</a></h2><blockquote><p>在辨别冒泡排序是否是稳定排序之前，我们首先要知道什么样的算法算是一种稳定的算法。稳定的算法通俗的讲就是假如两个值是一样的，排序前A在B的前面，排序后A还在B的前面，这样的排序算法我们称之为稳定的排序算法，反之称为不稳定的排序算法，因此冒泡排序是稳定的。</p></blockquote></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/面试题">面试题</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="博文列表分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/tags/面试题/page/5"><div class="pagination-nav__label">较新的博文</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/tags/面试题/page/7"><div class="pagination-nav__label">较旧的博文</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 7Wate, Inc. Built with <a href="https://www.docusaurus.cn/" target="_blank" rel="noopener noreferrer">Docusaurus</a>.<br>Powered by <a href="https://webify.cloudbase.net/" target="_blank" rel="noopener noreferrer">CloudBase Webify</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.690cd862.js"></script>
<script src="/assets/js/main.e471a9b1.js"></script>
</body>
</html>